### 페이지 그리고 레이아웃

Next.js 13의 앱 라우터에는 페이지, 공유 레이아웃 및 템플릿을 쉽게 만들 수 있는 새로운 파일 규칙이 도입되었습니다. 

페이지는?
페이지는 항상 경로 하위 트리의 리프입니다.  
페이지에는 .js, .jsx 또는 .tsx 파일 확장자를 사용할 수 있습니다.  
경로 세그먼트를 공개적으로 액세스할 수 있게 하려면 page.js 파일이 필요합니다.  
페이지는 기본적으로 서버 컴포넌트이지만 클라이언트 컴포넌트로 설정할 수 있습니다.  
페이지는 데이터를 가져올 수 있습니다. 자세한 내용은 데이터 가져오기 섹션을 참조하세요.  
  
  layout은 여러 페이지간에 공유되는 ui이다
  
가장위에있는 레이아웃은 rootLayout 이라 한다  
rootLaout에는 HTML 및 본문 태그가 포함되어야 한다.  
모든 경로 세그먼트는 선택적으로 자체 레이아웃을 정의할 수 있다.  
이러한 레이아웃은 해당 세그먼트의 모든 페이지에서 공유된다.   
layout은page를 래핑한다.  
layout은 중첩된다?? 부모 layout은 자식layout을 감싸준다??? 몬소린지?  


앱디랙토리에 layout이 있어야 하고 next는 html body를 자동으로 작성하지 않기 떄문에 작성해 주어야 한다.  
rootLayout은 기본적으로 서버 컴포넌트이다 클라이언트 컴포넌트로 설정할 수 없다.

폴더 밑의 레이아웃은 폴더(경로)가 활성화 될때 렌더링 된다.  

레이아웃 중첩은 부모 레이아웃 안에 자식 레이아웃이 위치한다는 뜻인듯. route 쓸때랑 비슷하게  


####  템플릿??
템플릿
템플릿은 각 하위 레이아웃 또는 페이지를 래핑한다는 점에서 레이아웃과 유사합니다. 경로 전체에서 지속되고 상태를 유지하는 레이아웃과 달리 템플릿은 탐색 시 각 하위 레이아웃에 대해 새 인스턴스를 생성합니다. 즉, 사용자가 템플릿을 공유하는 경로 사이를 탐색할 때 컴포넌트의 새 인스턴스가 마운트되고, DOM 요소가 다시 생성되며, 상태가 보존되지 않고, 효과가 다시 동기화됩니다.  
탐색할때만 나온다?  

권장 사항: 템플릿을 사용해야 할 특별한 이유가 없는 한 레이아웃을 사용하는 것이 좋습니다.  

  ```
<Layout>
  {/* Note that the template is given a unique key. */} //이런식으로 출력됨
  <Template key={routeParam}>{children}</Template>
</Layout>
```  

<head> 수정하기
앱 디렉토리에서 기본 제공 SEO 지원을 사용하여 제목 및 메타 등의 <head> HTML 요소를 수정할 수 있습니다.

메타데이터는 메타데이터 객체를 내보내거나 layout.js 또는 page.js 파일에서 generateMetadata 함수를 사용하여 정의할 수 있습니다.  
   app/page.tsx  
  ```
 
export const metadata = {
  title: 'Next.js'
};

export default function Page() {
  return '...'
}
```  
  알아두면 좋습니다:   
  루트 레이아웃에 <title> 및 <meta>와 같은 <head> 태그를 수동으로 추가해서는 안 됨 
  대신 <head> 요소의 스트리밍 및 중복 제거와 같은 고급 요구 사항을 자동으로 처리하는 메타데이터 API를 사용해야된다.


